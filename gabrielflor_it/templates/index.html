<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>


<!-- Basic Page Needs
================================================== -->
<meta charset="utf-8">
<title>gabrielflor.it</title>
<meta name="description" content="">
<meta name="author" content="">
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->


<!-- Mobile Specific Metas
================================================== -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<!-- CSS
================================================== -->
<link rel="stylesheet" href="static/css/base.css">
<link rel="stylesheet" href="static/css/skeleton.css">
<link rel="stylesheet" href="static/css/layout.css">


<!-- Favicons
================================================== -->
<link rel="shortcut icon" href="static/img/favicon.ico">
<link rel="apple-touch-icon" href="static/img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="static/img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="static/img/apple-touch-icon-114x114.png">

</head>
<body>

<style>

	div.container {
		padding-top: 60px;
	}

	span.bold {
		font-weight: bold;
	}

	div.content img {
		padding-bottom: 60px;
	}

	img {
		max-width: 100%;
	}

</style>

<!--[if IE]><style type="text/css">
	img {
		width: 100%;
	}
</style><![endif]-->

<!-- Primary Page Layout
================================================== -->
<div class="container">

	<div class="three columns sidebar">
		<nav>
			<h3>gabrielflor.it</h3>
			<ul>
			<li><a href="http://www.twitter.com/gabrielflorit">twitter</a></li>
			</ul>
		</nav>
	</div>

	<div class="twelve columns offset-by-one content">
		<div>
			<h3>Choropleths, classes, and color maps</h3>
			
			<small>December 1, 2011</small>

			<p><span class='bold'>Let's make a map.</span> We'll display poverty by county (data courtesy of the <a href='http://www.census.gov/did/www/saipe/'>U.S. Census Bureau</a>).</p>

			<p>Here's a first attempt. Each county is colored based on its numerical value - in this case, the county's total percentage of people living in poverty. Since the lowest percentage is in the 0%'s, and the highest in the 60%'s, we'll go with 7 classes: 0%-10%, 10%-20%, 20%-30%, ..., 60%-70%. Lighter colors mean lower poverty, darker colors mean higher poverty.</p>

			<img src='static/img/map1.png'/>

			<p>Great - now let's try a different classification. We'll sort the data numerically in an ascending fashion (e.g. 3, 6, 8, 23, 56), then divide the data into 4 groups of equal size. We call these groups <span class='bold'>quartiles</span>.</p>

			<img src='static/img/map2.png'/>

			<p>What happens if we increase the number of equally sized groups - say from 4 to 8? Let's do that. We call them <span class='bold'>8-quantiles</span> (4-quantiles are also known as quartiles).</p>

			<img src='static/img/map3.png'/>

		</div>
		<hr>
		<div>
		<p class="remove-bottom">
			<small><a href="http://gabrielflor.it">gabriel florit</a>, 2011 Â©</small>
		</p>
		</div>
	</div>

</div><!-- container -->


<!-- JS
================================================== -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script src="static/js/tabs.js"></script>

<script>
	// this comes from http://unstoppablerobotninja.com/entry/fluid-images/
	var imgSizer = {
		Config : {
			imgCache : []
			,spacer : "static/img/spacer.gif"
		}

		,collate : function(aScope) {
			var isOldIE = (document.all && !window.opera && !window.XDomainRequest) ? 1 : 0;
			if (isOldIE && document.getElementsByTagName) {
				var c = imgSizer;
				var imgCache = c.Config.imgCache;

				var images = (aScope && aScope.length) ? aScope : document.getElementsByTagName("img");
				for (var i = 0; i < images.length; i++) {
					images[i].origWidth = images[i].offsetWidth;
					images[i].origHeight = images[i].offsetHeight;

					imgCache.push(images[i]);
					c.ieAlpha(images[i]);
					images[i].style.width = "100%";
				}

				if (imgCache.length) {
					c.resize(function() {
						for (var i = 0; i < imgCache.length; i++) {
							var ratio = (imgCache[i].offsetWidth / imgCache[i].origWidth);
							imgCache[i].style.height = (imgCache[i].origHeight * ratio) + "px";
						}
					});
				}
			}
		}

		,ieAlpha : function(img) {
			var c = imgSizer;
			if (img.oldSrc) {
				img.src = img.oldSrc;
			}
			var src = img.src;
			img.style.width = img.offsetWidth + "px";
			img.style.height = img.offsetHeight + "px";
			img.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + src + "', sizingMethod='scale')"
			img.oldSrc = src;
			img.src = c.Config.spacer;
		}

		// Ghettomodified version of Simon Willison's addLoadEvent() -- http://simonwillison.net/2004/May/26/addLoadEvent/
		,resize : function(func) {
			var oldonresize = window.onresize;
			if (typeof window.onresize != 'function') {
				window.onresize = func;
			} else {
				window.onresize = function() {
					if (oldonresize) {
						oldonresize();
					}
					func();
				}
			}
		}
	}

	addLoadEvent(function() {
		imgSizer.collate();
	});

	function addLoadEvent(func) {
		var oldonload = window.onload;
		if (typeof window.onload != 'function') {
			window.onload = func;
		} else {
			window.onload = function() {
				if (oldonload) {
					oldonload();
				}
				func();
			}
		}
	}
</script>

<!-- End Document
================================================== -->
</body>
</html>
