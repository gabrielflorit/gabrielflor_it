<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title></title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/normalize.css') }}">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
		<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:700' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=PT+Sans' rel='stylesheet' type='	text/css'>
	</head>
	<body>

		<!-- TODO: Place favicon.ico and apple-touch-icon.png in the root directory -->
		<header>
			<h1>Gabriel Florit</h1>
			<ul>
				<li><a href='http://twitter.com/gabrielflorit'>twitter</a></li>
				<li><a href='https://github.com/gabrielflorit'>github</a></li>
			</ul>
		</header>

		<section class='projects'></section>
		
		<section>

			<article>
				<h6>Mar. 16, 2012</h6>
				<h3>
					<a href='http://livecoding.io'>Live coding in d3</a>
				</h3>
				<p>
					<a href="http://worrydream.com/">Bret Victor</a> is a genius. His recent CUSEC 2012 talk, <a href="http://vimeo.com/36579366">Inventing on Principle</a>, is one of the best talks I've ever seen. If you watch only one talk this year, make sure it's this one.
				</p>
				<p>
					I was blown away by his 'live coding' idea, but couldn't find any actual live examples, so I put together a quick demo using <a href="http://mbostock.github.com/d3/">d3</a> and <a href="http://ace.ajax.org/">Ace</a>. I 100% totally based it on Bret's idea - down to the clever book styling. Imitation is the sincerest... etc etc.
				</p>
				<p>
					The default code is Mike Bostock's beautiful <a href="http://mbostock.github.com/d3/ex/chord.html">chord diagram</a>, tweaked to fit the <a href="https://github.com/ajaxorg/ace/blob/master/build/src/theme-twilight-uncompressed.js">Twilight theme</a>. And remember, click the pulsing red numbers and hold down the alt key!
				</p>
				<a href='http://livecoding.io'>
					<img class='other lazy' src="../static/img/blank.gif" data-src="{{ url_for('static', filename='img/water.jpg') }}"></img>
				</a>
			</article>

			<article>
				<h6>Dec. 31, 2011</h6>
				<h3>
					<a href='/a-half-decade-of-rising-poverty'>A half-decade of rising poverty</a>
				</h3>
				<p>
					I put together a more polished version of my previous work on mapping poverty by county, adding a bit more interactivity including a sparkline showing historical poverty rate change. The continuous scale does a great job of highlighting spatial patterns.
				</p>
				<a href='/a-half-decade-of-rising-poverty'>
					<img class='other lazy' src="../static/img/blank.gif" data-src="{{ url_for('static', filename='img/a-half-decade-of-rising-poverty.jpg') }}"></img>
				</a>
			</article>

			<article>
				<h6>Dec. 14, 2011</h6>
				<h3>
					<a href='/counties'>Choropleth classification systems</a>
				</h3>
				<p>
					Data classification is a critical component of choropleths. The number of classes and our choice of classification system can turn the same data into seemingly different maps. I'll illustrate with a number of examples - of maps, of course. We'll look at total percentage of people living in poverty by county (data courtesy of the <a href="http://www.census.gov/did/www/saipe/">U.S. Census Bureau</a>).
				</p>

				<h4>Equal intervals</h4>
				<p>
					Let's start with equal intervals. In this classification system, the entire range of values is divided equally into the desired number of intervals.
				</p>
				<p>
					<a href="counties?class=0&amp;year=5&amp;breaks=4&amp;hue=230">4 equal intervals:</a>
				</p>
				<a href="counties?class=0&amp;year=5&amp;breaks=4&amp;hue=230">
					<img class='other lazy' src="../static/img/blank.gif" data-src="{{ url_for('static', filename='img/maps/interval-4.jpg') }}" />
				</a>
				<p>
					<a href="counties?class=0&amp;year=5&amp;breaks=8&amp;hue=230">8 equal intervals:</a>
				</p>
				<a href="counties?class=0&amp;year=5&amp;breaks=8&amp;hue=230">
					<img class='other lazy' src="../static/img/blank.gif" data-src="{{ url_for('static', filename='img/maps/interval-8.jpg') }}" />
				</a>

				<h4>Quantiles</h4>
				<p>
					Now let's switch to quantiles. Here, each class is of equal size - each class has the same number of values.
				</p>
				<p>
					<a href="counties?class=1&amp;year=5&amp;breaks=4&amp;hue=230">4 quantiles (also known as quartiles):</a>
				</p>
				<a href="counties?class=1&amp;year=5&amp;breaks=4&amp;hue=230">
					<img class='other lazy' src="../static/img/blank.gif" data-src="{{ url_for('static', filename='img/maps/quantile-8.jpg') }}" />
				</a>
				<p>
					<a href="counties?class=1&amp;year=5&amp;breaks=8&amp;hue=230">8 quantiles:</a>
				</p>
				<a href="counties?class=1&amp;year=5&amp;breaks=8&amp;hue=230">
					<img class='other lazy' src="../static/img/blank.gif" data-src="{{ url_for('static', filename='img/maps/quantile-8.jpg') }}" />
				</a>

				<h4>k-means clusters</h4>
				<p>
					Finally we'll look at k-means clusters. This classification system creates classes of values such that the sum of the squared distance from each value to the center of its respective class is minimized.
				</p>
				<p>
					<a href="counties?class=2&amp;year=5&amp;breaks=4&amp;hue=230">4 classes:</a>
				</p>
				<a href="counties?class=2&amp;year=5&amp;breaks=4&amp;hue=230">
					<img class='other lazy' src="../static/img/blank.gif" data-src="{{ url_for('static', filename='img/maps/kmeans-4.jpg') }}">
				</a>
				<p>
					<a href="counties?class=2&amp;year=5&amp;breaks=4&amp;hue=230">8 classes:</a>
				</p>
				<a href="counties?class=2&amp;year=5&amp;breaks=4&amp;hue=230">
					<img class='other lazy' src="../static/img/blank.gif" data-src="{{ url_for('static', filename='img/maps/kmeans-8.jpg') }}">
				</a>

				<p>
					If you're still reading, my apologies if you've had enough blue maps for a day. Now, which one do you prefer? Remember, they all show the same data - the only change is the way the data is broken up into classes. I chose equal intervals, quantiles and k-means clustering because they're fairly popular classification systems amongst cartographers.
				</p>
				
				<h4>Continuous classes</h4>
				<p>
					<a href="counties?class=3&amp;year=5&amp;hue=230">I have one more map to show you:</a>
				</p>
				<a href="counties?class=3&amp;year=5&amp;hue=230">
					<img class='other lazy' src="../static/img/blank.gif" data-src="{{ url_for('static', filename='img/maps/continuous.jpg') }}">
				</a>
				<p>
					There is no grouping of values here. Instead, a continuous input domain (the data points, ranging from 0% to 62%) is mapped to a continuous output range (in this case, a color map of bluish hue). This is also equivalent to choosing equal intervals and increasing the number of classes to infinity.
				</p>
				<p>
					I prefer this type of classification system <em>for this particular data set</em> - we have many data points (3,143 counties), most of them exhibiting regular spatial patterns. However, if you have a small number of data points, need a print-friendly map, or are concerned about accessibility, you're probably better off choosing a map with fewer number of classes, ideally between 4 and 7.
				</p>
			</article>

		</section>

		<footer><h6>&copy; Gabriel Florit, 2013</h6></footer>

		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>

		<script>
			var _gaq=[['_setAccount','UA-27676826-1'],['_trackPageview']];
			(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
			g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
			s.parentNode.insertBefore(g,s)}(document,'script'));
		</script>
		<script src="{{ url_for('static', filename='js/main.js') }}"></script>
		<script src="{{ url_for('static', filename='js/vendors/jail.min.js') }}"></script>
	</body>
</html>
