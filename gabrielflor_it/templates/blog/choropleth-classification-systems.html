{% extends "layout.html" %}
{% block body %}
		<div>
			<h3><a href='blog-choropleth-classification-systems'>Choropleth classification systems</a></h3>
			
			<small>December 14, 2011</small>

			<p>
				<a href='counties'><span class='bold italic'>Click here to access the interactive map.</span></a>
			</p>

			<p>
				<span class='bold'>Data classification</span> is a critical component of choropleths. The number of classes and our choice of classification system can turn the same data into seemingly different maps. I'll illustrate with a number of examples - of maps, of course. We'll look at total percentage of people living in poverty by county (data courtesy of the <a href='http://www.census.gov/did/www/saipe/'>U.S. Census Bureau</a>).
			</p>

			<h4>Equal intervals</h4>
			<p>
				Let's start with <span class='bold'>equal intervals</span>. In this classification system, the entire range of values is divided equally into the desired number of intervals. <a href='counties?class=0&year=5&breaks=4&hue=230'>4 equal intervals:</a>
				<a href='counties?class=0&year=5&breaks=4&hue=230'>
					<img src='static/img/maps/interval-4.png' />
				</a>
				<a href='counties?class=0&year=5&breaks=8&hue=230'>8 equal intervals:</a>
				<a href='counties?class=0&year=5&breaks=8&hue=230'>
					<img src='static/img/maps/interval-8.png' />
				</a>
			</p>

			<h4>Quantiles</h4>
			<p>
				Now let's switch to <span class='bold'>quantiles</span>. Here, each class is of equal size - each class has the same number of values. <a href='counties?class=1&year=5&breaks=4&hue=230'>4 quantiles (also known as quartiles):</a>
				<a href='counties?class=1&year=5&breaks=4&hue=230'>
					<img src='static/img/maps/quantile-4.png'  />
				</a>
				<a href='counties?class=1&year=5&breaks=8&hue=230'>8 quantiles:</a>
				<a href='counties?class=1&year=5&breaks=8&hue=230'>
					<img src='static/img/maps/quantile-8.png' />
				</a>
			</p>

			<h4>k-means clusters</h4>
			<p>
				Finally we'll look at <span class='bold'>k-means clusters</span>. This classification system creates classes of values such that the sum of the squared distance from each value to the center of its respective class is minimized. <a href='counties?class=2&year=5&breaks=4&hue=230'>4 classes:</a>
				<a href='counties?class=2&year=5&breaks=4&hue=230'>
					<img src='static/img/maps/kmeans-4.png'  />
				</a>
				<a href='counties?class=2&year=5&breaks=4&hue=230'>8 classes:</a>
				<a href='counties?class=2&year=5&breaks=4&hue=230'>
					<img src='static/img/maps/kmeans-8.png' />
				</a>
			</p>

			<p>
				If you're still reading, my apologies if you've had enough blue maps for a day. Now, which one do you prefer? Remember, they all show the same data - the only change is the way the data is broken up into classes. I chose equal intervals, quantiles and k-means clustering because they're fairly popular classification systems amongst cartographers.
			</p>
			
			<h4>Continuous classes</h4>
			<p>
				<a href='counties?class=3&year=5&hue=230'>I have one more map to show you:</a>
				<a href='counties?class=3&year=5&hue=230'>
					<img src='static/img/maps/continuous.png' />
				</a>
				There is no grouping of values here. Instead, a <span class='bold'>continuous</span> input domain (the data points, ranging from 0% to 62%) is mapped to a <span class='bold'>continuous</span> output range (in this case, a color map of bluish hue). This is also equivalent to choosing equal intervals and increasing the number of classes to infinity.
			</p>

			<p>
				I prefer this type of classification system <em>for this particular data set</em> - we have many data points (3,143 counties), most of them exhibiting regular spatial patterns. However, if you have a small number of data points, need a print-friendly map, or are concerned about accessibility, you're probably better off choosing a map with fewer number of classes, ideally between 4 and 7.
			</p>
			<a href='blog-choropleth-classification-systems'>Comments</a>
		</div>
{% endblock %}